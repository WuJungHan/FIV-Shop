(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd9119d0"],{"1dde":function(t,c,e){var n=e("d039"),o=e("b622"),i=e("2d00"),a=o("species");t.exports=function(t){return i>=51||!n((function(){var c=[],e=c.constructor={};return e[a]=function(){return{foo:1}},1!==c[t](Boolean).foo}))}},"2c10":function(t,c,e){"use strict";var n=e("7a23");function o(t,c,e,o,i,a){var r=Object(n["D"])("loading");return Object(n["w"])(),Object(n["e"])(r,{active:i.isLoading,"onUpdate:active":c[1]||(c[1]=function(t){return i.isLoading=t})},null,8,["active"])}var i={data:function(){return{isLoading:!0}},methods:{isloading:function(){var t=this;setTimeout((function(){t.isLoading=!1}),2e3)}},created:function(){this.isloading()}};i.render=o;c["a"]=i},8418:function(t,c,e){"use strict";var n=e("c04e"),o=e("9bf2"),i=e("5c6c");t.exports=function(t,c,e){var a=n(c);a in t?o.f(t,a,i(0,e)):t[a]=e}},"99af":function(t,c,e){"use strict";var n=e("23e7"),o=e("d039"),i=e("e8b5"),a=e("861d"),r=e("7b0b"),s=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),b=e("b622"),f=e("2d00"),p=b("isConcatSpreadable"),h=9007199254740991,O="Maximum allowed index exceeded",j=f>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=d("concat"),g=function(t){if(!a(t))return!1;var c=t[p];return void 0!==c?!!c:i(t)},m=!j||!v;n({target:"Array",proto:!0,forced:m},{concat:function(t){var c,e,n,o,i,a=r(this),d=u(a,0),b=0;for(c=-1,n=arguments.length;c<n;c++)if(i=-1===c?a:arguments[c],g(i)){if(o=s(i.length),b+o>h)throw TypeError(O);for(e=0;e<o;e++,b++)e in i&&l(d,b,i[e])}else{if(b>=h)throw TypeError(O);l(d,b++,i)}return d.length=b,d}})},e4f3:function(t,c,e){"use strict";var n=function(t){return{all:t=t||new Map,on:function(c,e){var n=t.get(c);n?n.push(e):t.set(c,[e])},off:function(c,e){var n=t.get(c);n&&(e?n.splice(n.indexOf(e)>>>0,1):t.set(c,[]))},emit:function(c,e){var n=t.get(c);n&&n.slice().map((function(t){t(e)})),(n=t.get("*"))&&n.slice().map((function(t){t(c,e)}))}}},o=n();c["a"]=o},f171:function(t,c,e){"use strict";e.r(c);var n=e("7a23"),o=Object(n["g"])('<div class="row text-center"><div class="col-4 bg-secondary"><h5 class="fw-bold pt-3">STEP 01</h5><p class="fs-5 fw-bold">確認訂單商品</p></div><div class="col-4"><h5 class="fw-bold pt-3">STEP 02</h5><p class="fs-5 fw-bold">輸入訂購資料</p></div><div class="col-4"><h5 class="fw-bold pt-3">STEP 03</h5><p class="fs-5 fw-bold">付款/完成訂單</p></div></div>',1),i={class:"content"},a={class:"table-wrap"},r={class:"table table-hover"},s=Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",{scope:"col",class:"text-center"},"商品資訊"),Object(n["i"])("th",{scope:"col"},[Object(n["h"])("商品名稱 "),Object(n["i"])("i",{class:"bi bi-alarm"})]),Object(n["i"])("th",{scope:"col"},"數量"),Object(n["i"])("th",{scope:"col",class:"d-none d-md-table-cell"},"單價"),Object(n["i"])("th",{scope:"col",class:"d-none d-md-table-cell"},"折扣價"),Object(n["i"])("th",{scope:"col"},"小計"),Object(n["i"])("th",{scope:"col"},"刪除")])],-1),l={class:"d-flex align-items-center"},u={class:"d-none d-md-table-cell"},d={class:"d-none d-md-table-cell"},b={class:"row"},f=Object(n["i"])("div",{class:"col-0 col-md-7"},null,-1),p={class:"col-12 col-md-1"},h={class:"col-12 col-md-4"},O={class:"mb-3"},j={class:"d-flex justify-content-between"},v=Object(n["h"])("下一步");function g(t,c,e,g,m,w){var y=Object(n["D"])("Loading"),P=Object(n["D"])("router-link");return Object(n["w"])(),Object(n["e"])(n["a"],null,[Object(n["i"])("div",null,[Object(n["i"])(y)]),o,Object(n["i"])("div",i,[Object(n["i"])("div",a,[Object(n["i"])("table",r,[s,Object(n["i"])("tbody",null,[(Object(n["w"])(!0),Object(n["e"])(n["a"],null,Object(n["B"])(m.cartProduct,(function(c){return Object(n["w"])(),Object(n["e"])("tr",{key:c.id},[Object(n["i"])("td",l,[Object(n["i"])("div",{style:[{width:"150px",height:"150px","background-size":"cover","background-position":"center"},{"background-image":"url(".concat(c.product.imageUrl,")")}]},null,4)]),Object(n["i"])("td",null,Object(n["G"])(c.product.title),1),Object(n["i"])("td",null,[Object(n["P"])(Object(n["i"])("input",{min:"1",max:"99",type:"number","onUpdate:modelValue":function(t){return c.qty=t},class:"form-control",ref:"qty",onChange:function(t){return w.updataProductQty(c)}},null,40,["onUpdate:modelValue","onChange"]),[[n["K"],c.qty,void 0,{number:!0}]])]),Object(n["i"])("td",u,Object(n["G"])(t.$toCurrency(c.product.origin_price)),1),Object(n["i"])("td",d,Object(n["G"])(t.$toCurrency(c.product.price)),1),Object(n["i"])("td",null,Object(n["G"])(t.$toCurrency(c.total)),1),Object(n["i"])("td",null,[Object(n["i"])("button",{type:"button",class:"btn btn-primary",onClick:function(t){return w.deleteProduct(c.id)}}," 刪除 ",8,["onClick"])])])})),128))])])]),Object(n["i"])("div",b,[f,Object(n["i"])("div",p,"共"+Object(n["G"])(m.cartProduct.length)+"項",1),Object(n["i"])("div",h,"總金額: "+Object(n["G"])(t.$toCurrency(w.countTotalPrice)),1)]),Object(n["i"])("div",O,[Object(n["i"])("div",j,[Object(n["i"])("button",{type:"button",class:"btn btn-primary",onClick:c[1]||(c[1]=function(){return w.deleteAllProducts&&w.deleteAllProducts.apply(w,arguments)})}," 清空購物車 "),Object(n["i"])(P,{class:"btn btn-primary",to:"/check-orderer"},{default:Object(n["O"])((function(){return[v]})),_:1})])])])],64)}e("159b"),e("99af");var m=e("2c10"),w=e("e4f3"),y={components:{Loading:m["a"]},data:function(){return{id:"",cartProduct:[]}},computed:{countTotalPrice:function(){var t=0;return this.cartProduct.forEach((function(c){t+=c.product.price*c.qty})),t}},methods:{getCartList:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart");this.$http.get(c).then((function(c){c.data.success?t.cartProduct=c.data.data.carts:t.$swal({title:c.data.message,icon:"error"})})).catch((function(c){t.$swal({title:c,icon:"error"})}))},deleteProduct:function(t){var c=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart/").concat(t);this.$http.delete(e).then((function(t){t.data.success?(c.$swal({title:t.data.message}),c.getCartList(),c.countPrice=0,w["a"].emit("updata-cart")):c.$swal({title:t.data.message,icon:"error"})})).catch((function(t){c.$swal({title:t,icon:"error"})}))},deleteAllProducts:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/carts");this.$http.delete(c).then((function(c){c.data.success?(t.$swal({title:c.data.message}),t.getCartList(),t.countPrice=0,w["a"].emit("updata-cart")):t.$swal({title:c.data.message,icon:"error"})})).catch((function(c){t.$swal({title:c,icon:"error"})}))},productQtyAdd:function(){},productQtySubtract:function(){},updataProductQty:function(t){var c=this;if(t.qty>0){var e={product_id:t.id,qty:t.qty},n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart/").concat(t.id);this.$http.put(n,{data:e}).then((function(t){t.data.success?(c.$swal({title:t.data.message}),c.getCartList(),c.countPrice=0):c.$swal({title:t.data.message,icon:"error"})})).catch((function(t){c.$swal({title:t,icon:"error"})}))}else this.$swal({title:"數量不可小於零",icon:"error"})}},created:function(){this.getCartList()}};y.render=g;c["default"]=y}}]);
//# sourceMappingURL=chunk-bd9119d0.94eec9cf.js.map