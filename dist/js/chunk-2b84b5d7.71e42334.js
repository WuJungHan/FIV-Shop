(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b84b5d7"],{"1dde":function(t,c,e){var n=e("d039"),o=e("b622"),a=e("2d00"),i=o("species");t.exports=function(t){return a>=51||!n((function(){var c=[],e=c.constructor={};return e[i]=function(){return{foo:1}},1!==c[t](Boolean).foo}))}},"2c10":function(t,c,e){"use strict";var n=e("7a23");function o(t,c,e,o,a,i){var r=Object(n["D"])("loading");return Object(n["w"])(),Object(n["e"])(r,{active:a.isLoading,"onUpdate:active":c[1]||(c[1]=function(t){return a.isLoading=t})},null,8,["active"])}var a={data:function(){return{isLoading:!0}},methods:{isloading:function(){var t=this;setTimeout((function(){t.isLoading=!1}),2e3)}},created:function(){this.isloading()}};a.render=o;c["a"]=a},8418:function(t,c,e){"use strict";var n=e("c04e"),o=e("9bf2"),a=e("5c6c");t.exports=function(t,c,e){var i=n(c);i in t?o.f(t,i,a(0,e)):t[i]=e}},"99af":function(t,c,e){"use strict";var n=e("23e7"),o=e("d039"),a=e("e8b5"),i=e("861d"),r=e("7b0b"),s=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),b=e("b622"),f=e("2d00"),h=b("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",O=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=u("concat"),g=function(t){if(!i(t))return!1;var c=t[h];return void 0!==c?!!c:a(t)},m=!O||!v;n({target:"Array",proto:!0,forced:m},{concat:function(t){var c,e,n,o,a,i=r(this),u=d(i,0),b=0;for(c=-1,n=arguments.length;c<n;c++)if(a=-1===c?i:arguments[c],g(a)){if(o=s(a.length),b+o>p)throw TypeError(j);for(e=0;e<o;e++,b++)e in a&&l(u,b,a[e])}else{if(b>=p)throw TypeError(j);l(u,b++,a)}return u.length=b,u}})},f171:function(t,c,e){"use strict";e.r(c);var n=e("7a23"),o=Object(n["g"])('<div class="row text-center"><div class="col-4 bg-secondary"><h5 class="fw-bold pt-3">STEP 01</h5><p class="fs-5 fw-bold">確認訂單商品</p></div><div class="col-4"><h5 class="fw-bold pt-3">STEP 02</h5><p class="fs-5 fw-bold">輸入訂購資料</p></div><div class="col-4"><h5 class="fw-bold pt-3">STEP 03</h5><p class="fs-5 fw-bold">付款/完成訂單</p></div></div>',1),a={class:"content"},i={class:"table-wrap"},r={class:"table table-hover"},s=Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",{scope:"col",class:"text-center"},"商品資訊"),Object(n["i"])("th",{scope:"col"},[Object(n["h"])("商品名稱 "),Object(n["i"])("i",{class:"bi bi-alarm"})]),Object(n["i"])("th",{scope:"col"},"數量"),Object(n["i"])("th",{scope:"col",class:"d-none d-md-table-cell"},"單價"),Object(n["i"])("th",{scope:"col",class:"d-none d-md-table-cell"},"折扣價"),Object(n["i"])("th",{scope:"col"},"小計"),Object(n["i"])("th",{scope:"col"},"刪除")])],-1),l={class:"d-flex align-items-center"},d={class:"d-none d-md-table-cell"},u={class:"d-none d-md-table-cell"},b={class:"row"},f=Object(n["i"])("div",{class:"col-0 col-md-7"},null,-1),h={class:"col-12 col-md-1"},p={class:"col-12 col-md-4"},j={class:"mb-3"},O={class:"d-flex justify-content-between"},v=Object(n["h"])("下一步");function g(t,c,e,g,m,P){var w=Object(n["D"])("Loading"),y=Object(n["D"])("router-link");return Object(n["w"])(),Object(n["e"])(n["a"],null,[Object(n["i"])("div",null,[Object(n["i"])(w)]),o,Object(n["i"])("div",a,[Object(n["i"])("div",i,[Object(n["i"])("table",r,[s,Object(n["i"])("tbody",null,[(Object(n["w"])(!0),Object(n["e"])(n["a"],null,Object(n["B"])(m.cartProduct,(function(t){return Object(n["w"])(),Object(n["e"])("tr",{key:t.id},[Object(n["i"])("td",l,[Object(n["i"])("div",{style:[{width:"150px",height:"150px","background-size":"cover","background-position":"center"},{"background-image":"url(".concat(t.product.imageUrl,")")}]},null,4)]),Object(n["i"])("td",null,Object(n["G"])(t.product.title),1),Object(n["i"])("td",null,[Object(n["P"])(Object(n["i"])("input",{min:"1",max:"99",type:"number","onUpdate:modelValue":function(c){return t.qty=c},class:"form-control",ref:"qty",onChange:function(c){return P.updataProductQty(t)}},null,40,["onUpdate:modelValue","onChange"]),[[n["K"],t.qty,void 0,{number:!0}]])]),Object(n["i"])("td",d,Object(n["G"])(t.product.origin_price),1),Object(n["i"])("td",u,Object(n["G"])(t.product.price),1),Object(n["i"])("td",null,Object(n["G"])(t.total),1),Object(n["i"])("td",null,[Object(n["i"])("button",{type:"button",class:"btn btn-primary",onClick:function(c){return P.deleteProduct(t.id)}},"刪除",8,["onClick"])])])})),128))])])]),Object(n["i"])("div",b,[f,Object(n["i"])("div",h,"共"+Object(n["G"])(m.cartProduct.length)+"項",1),Object(n["i"])("div",p,"總金額:"+Object(n["G"])(m.countPrice),1)]),Object(n["i"])("div",j,[Object(n["i"])("div",O,[Object(n["i"])("button",{class:"btn btn-primary",onClick:c[1]||(c[1]=function(){return P.deleteAllProducts&&P.deleteAllProducts.apply(P,arguments)})},"清空購物車"),Object(n["i"])(y,{class:"btn btn-primary",to:"/check-orderer"},{default:Object(n["O"])((function(){return[v]})),_:1})])])])],64)}e("99af"),e("159b");var m=e("2c10"),P={components:{Loading:m["a"]},data:function(){return{id:"",cartProduct:[],countPrice:0}},methods:{getCartList:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart");this.$http.get(c).then((function(c){c.data.success?t.cartProduct=c.data.data.carts:alert(c.data.message)})).catch((function(t){console.log(t)}))},countAllPrice:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart");this.$http.get(c).then((function(c){c.data.success?c.data.data.carts.forEach((function(c){t.countPrice+=c.final_total})):alert(c.data.message)})).catch((function(t){console.log(t)}))},deleteProduct:function(t){var c=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart/").concat(t);this.$http.delete(e).then((function(t){t.data.success?(alert(t.data.message),c.getCartList(),c.countPrice=0,c.countAllPrice()):alert(t.data.message)})).catch((function(t){console.log(t)}))},deleteAllProducts:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/carts");this.$http.delete(c).then((function(c){c.data.success?(alert(c.data.message),t.getCartList(),t.countPrice=0,t.countAllPrice()):alert(c.data.message)})).catch((function(t){console.log(t)}))},productQtyAdd:function(){},productQtySubtract:function(){},updataProductQty:function(t){var c=this;if(t.qty>0){var e={product_id:t.id,qty:t.qty},n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eva29485577","/cart/").concat(t.id);this.$http.put(n,{data:e}).then((function(t){t.data.success?(alert(t.data.message),c.getCartList(),c.countPrice=0,c.countAllPrice()):alert(t.data.message)})).catch((function(t){console.log(t)}))}else alert("數量不可小於零")}},created:function(){this.getCartList(),this.countAllPrice()}};P.render=g;c["default"]=P}}]);
//# sourceMappingURL=chunk-2b84b5d7.71e42334.js.map